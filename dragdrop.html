<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="css/styles.css" />
    <title>Dev'Coffee PWA</title>

    <link rel="icon" href="./images/icons/icon-128x128.png" />

    <link rel="manifest" href="./manifest.json" />

  </head>
  <body>
    <style>
        .demo-layout-transparent {
          background: url('../assets/demos/transparent.jpg') center / cover;
        }
        .demo-layout-transparent .mdl-layout__header,
        .demo-layout-transparent .mdl-layout__drawer-button {
        
             background-color: silver;
          color: white;
        }
        .kanban-column {
      float: left;
      width: 33.33%;
      padding: 10px;
      box-sizing: border-box;
    }

    .test-element {
      height: 100px;
      background-color: black;
      width: 100px;
      z-index: 5;
      position: relative;
      margin: 10px 0;
      color: white;
      text-align: center;
      -ms-touch-action: none;
    }
        </style>
        
        <div class="demo-layout-transparent mdl-layout mdl-js-layout">
          <header class="mdl-layout__header mdl-layout__header--transparent">
            <div class="mdl-layout__header-row">
              <!-- Title -->
              <span class="mdl-layout-title">Title</span>
              <!-- Add spacer, to align navigation to the right -->
              <div class="mdl-layout-spacer"></div>
              <!-- Navigation -->
              <nav class="mdl-navigation">
                <a class="mdl-navigation__link" href="homepage.html">Homepage</a>
                <a class="mdl-navigation__link" href="index.html">Index</a>
                <a class="mdl-navigation__link" href="baterie.html">Batterie</a>
                <a class="mdl-navigation__link" href="draganddrop.html">Drag and Drop</a>
              </nav>
            </div>
          </header>
          <div class="mdl-layout__drawer">
            <span class="mdl-layout-title">Title</span>
            <nav class="mdl-navigation">
              <a class="mdl-navigation__link" href="homepage.html">homepage</a>
              <a class="mdl-navigation__link" href="index.html">index</a>
              <a class="mdl-navigation__link" href="baterie.html">Batterie</a>
              <a class="mdl-navigation__link" href="draganddrop.html">Drag and Drop</a>
            </nav>
          </div>
          <main class="mdl-layout__content">
            <div class="kanban-column" id="todo-column">
                <h2>To Do</h2>
                <div class="test-element" draggable="true" contenteditable="true">Task 1</div>
                <div class="test-element" draggable="true" contenteditable="true">Task 2</div>
              </div>
              
              <div class="kanban-column" id="in-progress-column">
                <h2>In Progress</h2>
              </div>
              
              <div class="kanban-column" id="done-column">
                <h2>Done</h2>
              </div>
          </main>
        </div>
    
        <script src="js/app.js"></script>
        <script>
      function startDrag(e) {
    e.preventDefault(); // Prevent the default behavior of dragging down and refreshing the page

    this.ontouchmove = this.onmspointermove = moveDrag;

    this.ontouchend = this.onmspointerup = function () {
      this.ontouchmove = this.onmspointermove = null;
      this.ontouchend = this.onmspointerup = null;
    }

    var pos = [this.offsetLeft, this.offsetTop];
    var that = this;
    var origin = getCoors(e);

    function moveDrag(e) {
      e.preventDefault(); // Prevent the default behavior of dragging down and refreshing the page

      var currentPos = getCoors(e);
      var deltaX = currentPos[0] - origin[0];
      var deltaY = currentPos[1] - origin[1];
      that.style.left = (pos[0] + deltaX) + 'px';
      that.style.top = (pos[1] + deltaY) + 'px';
      return false; // cancels scrolling
    }

    function getCoors(e) {
      var coors = [];
      if (e.targetTouches && e.targetTouches.length) {
        var thisTouch = e.targetTouches[0];
        coors[0] = thisTouch.clientX;
        coors[1] = thisTouch.clientY;
      } else {
        coors[0] = e.clientX;
        coors[1] = e.clientY;
      }
      return coors;
    }
  }

  var elements = document.querySelectorAll('.test-element');
  [].forEach.call(elements, function (element) {
    element.ondragstart = function (e) {
      e.dataTransfer.setData('text/plain', null);
      startDrag.call(element, e);
    };
  });

  var columns = document.querySelectorAll('.kanban-column');
  columns.forEach(function (column) {
    column.ondragover = function (e) {
      e.preventDefault();
    };

    column.ondrop = function (e) {
      e.preventDefault();
      var data = e.dataTransfer.getData('text/plain');
      var draggedElement = document.getElementById(data);

      // Append the dragged element to the drop target
      column.appendChild(draggedElement);
    };
  });

  document.ongesturechange = function () {
    return false;
  };
        </script>
      </body>
    </html>
    
